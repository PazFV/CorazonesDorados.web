
@if (patientData(); as data) {
  <div class="bg-white p-6 rounded-2xl shadow-lg space-y-5">
    <h2 class="text-2xl font-bold text-slate-700 mb-2">Estado Actual</h2>

    <!-- Fall Detection Alert -->
    @if (data.falldetected) {
      <div class="bg-red-500 text-white p-4 rounded-lg flex items-center gap-3 animate-pulse">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="currentColor">
          <path fill-rule="evenodd" d="M9.401 3.003c1.155-2 4.043-2 5.197 0l7.5 13c1.155 2-.77 4.5-3.299 4.5H5.201c-2.529 0-4.454-2.5-3.299-4.5l7.5-13zM12 17a1 1 0 100-2 1 1 0 000 2zm-1-4a1 1 0 011-1h.01a1 1 0 110 2H12a1 1 0 01-1-1z" clip-rule="evenodd" />
        </svg>
        <div>
          <h3 class="font-bold text-lg">¡Alerta de Caída!</h3>
          <p class="text-sm">Se ha detectado una posible caída.</p>
        </div>
      </div>
    }

    <!-- User in House -->
    <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
      <span class="font-semibold text-slate-600">Persona en Casa:</span>
      <span class="px-3 py-1 bg-green-200 text-green-800 text-sm font-bold rounded-full">{{ data.patientid }}</span>
    </div>
    
    <!-- Step Count -->
    <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
      <span class="font-semibold text-slate-600">Pasos del Día:</span>
      <span class="flex items-center gap-2 font-bold text-amber-700 text-lg">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
            <path d="M11.25 4.533A9.708 9.708 0 006 3a9.75 9.75 0 00-6 9.75c0 4.625 3.32 8.52 7.69 9.564a.75.75 0 00.81-.67V13.5a.75.75 0 01.75-.75h2.25a.75.75 0 01.75.75v7.688a.75.75 0 00.81.67C16.68 21.27 20 17.375 20 12.75a9.75 9.75 0 00-6-9.75 9.708 9.708 0 00-2.75 1.533z" />
        </svg>
        {{ data.dailystepcount }}
      </span>
    </div>

    <!-- Movement Status -->
    <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg">
      <span class="font-semibold text-slate-600">Estado de Movimiento:</span>
      @if (data.ismoving) {
        <span class="px-3 py-1 bg-blue-200 text-blue-800 text-sm font-bold rounded-full">En Movimiento</span>
      } @else {
        <span class="px-3 py-1 bg-gray-200 text-gray-800 text-sm font-bold rounded-full">Detenido</span>
      }
    </div>

  </div>
}
